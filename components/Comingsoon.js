import {useState, useRef, useEffect} from "react";import Div100vh from "react-div-100vh";import gsap, { Power2, Power3 } from 'gsap'import Bwbutton from "./Bwbutton";import style from "../styles/ComingSoon.module.css"import Image from 'next/image'function Comingsoon(comingProps){    // const {a, b, c} = comingProps;//<---props    // const [cody, setCody] = react.useState();    const [state, setState] = useState({x: 0, y: 0})    let imaginary = {        x: 0,        y: 0    }    const handleMouseMove = e => {        e.persist()        setState(state => ({...state,            x: Math.floor((e.clientX - window.innerWidth / 2)*200/window.innerWidth),            y: Math.floor((e.clientY - window.innerHeight / 2)*200/window.innerHeight)        }))    }    let bgbaseElement = useRef();    let logoWrap = useRef();    let buttonWrap = useRef();    let aniTitleOuter = useRef();    let anititle = useRef();    let anitextdesktop0 = useRef();    let anitextdesktop1 = useRef();    let anitextmobile0 = useRef();    let anitextmobile1 = useRef();    let anitextmobile2 = useRef();    let bwButtonProp = {        'staticText': "Can't Wait?",        'hoverText': 'Email',        'clickType': 'link',        'link': 'mailto:spencer@mcsaatchi.com'        // 'parentRef': bwbutton    };    function tick(){        // console.log('tick')        imaginary.x +=1;        imaginary.y +=2;    }    const mouseTrackingStyle = {        transform: `translate(${state.x}px,${state.y}px)`    }    function doOnLoad(){        gsap.set(bgbaseElement.current,{            alpha: 0        });        gsap.to(bgbaseElement.current,.6,{            alpha: 1        });    }    let styleHideBeforeLoad = {        "visibility": "hidden",        "opacity": 0    }    useEffect(()=> {        // on init        // console.log('mounted');        const intervalId = setInterval(tick,1600);        // set for hot reload        let tweenMaxHideBeforeLoadProps = {            "visibility": "hidden",            "alpha": 0        }        gsap.set(logoWrap.current, tweenMaxHideBeforeLoadProps)        gsap.set(buttonWrap.current, tweenMaxHideBeforeLoadProps)        let desktopTextCurrentArr = [anitextdesktop0.current, anitextdesktop1.current]        let mobileTextCurrentArr = [anitextmobile0.current, anitextmobile1.current, anitextmobile2.current]        gsap.set([anititle.current, ...desktopTextCurrentArr, ...mobileTextCurrentArr], {y: '+140%'})        let tl1 = new gsap.timeline({onComplete: ()=>{                console.log('timeline finished')            }});        tl1.to(bgbaseElement.current,.6,{            alpha: 1        });        tl1.set(logoWrap.current,{            visibility: 'visible',            alpha: 0,            scale: 0.6        });        tl1.set(buttonWrap.current,{            visibility: 'visible',            alpha: 0        });        tl1.to(logoWrap.current, 3,{ alpha:1, ease: Power2.easeOut }, "logoAnimationGroup");        tl1.to(logoWrap.current, 3,{ scale:0.4, ease: Power2.easeOut }, "logoAnimationGroup");        tl1.to(logoWrap.current, 1,{alpha:0, delay: 1.5, ease: Power3.easeOut})        tl1.to(anititle.current, 1,{y: '+0%', ease: Power3.easeOut}, "funTextAnimationGroup")        tl1.staggerTo(desktopTextCurrentArr, 1, {y: '+0%', delay: .2, ease: Power3.easeOut}, .2, "funTextAnimationGroup")        tl1.staggerTo(mobileTextCurrentArr, 1, {y: '+0%', delay: .2, ease: Power3.easeOut}, .2, "funTextAnimationGroup")        tl1.to(buttonWrap.current, 1,{            alpha: 1        });        return () => {            clearInterval(intervalId)        }    },[]);    return (<Div100vh>        <div className={style.absolute100}>            <div ref={bgbaseElement} className={style.bgbase}>                <Image                    layout="fill"                    objectFit="cover"                    quality={100}                    src="/image_02.png"                    alt=""                    priority="true"                    onLoad={doOnLoad}                    objectPosition="5% 50%"                />            </div>            <div className={style.absolute100}>                <div ref={logoWrap} className={style.absolute100} style={styleHideBeforeLoad}>                    <Image                        layout='fill'                        objectFit='contain'                        quality={100}                        src="/logo2.svg"                        alt=""                        priority="true"                    />                </div>            </div>            <div className={style.absolute100} onMouseMove={handleMouseMove}>                <div className={style.maincontantwrap}>                    <div className={style.movingtextwrap}><div ref={aniTitleOuter} className={style.movingtextouterwrap} ><div ref={anititle} className={style.movingtextinnerwrap}><p className={style.titletext}>M&CSAATCHISPENCER</p></div></div></div>                    <div className={style.funtextwrapdesktop}>                        <div className={style.movingtextwrap}><div className={style.movingtextouterwrap}><div ref={anitextdesktop0} className={style.movingtextinnerwrap}><p className={style.lineoftext}>CUDDLING WITH MY PET,</p></div></div></div>                        <div className={style.movingtextwrap}><div className={style.movingtextouterwrap}><div ref={anitextdesktop1} className={style.movingtextinnerwrap}><p className={style.lineoftext}>WE WILL BE DONE SOON</p></div></div></div>                    </div>                    <div className={style.funtextwrapmobile}>                        <div className={style.movingtextwrap}><div className={style.movingtextouterwrap}><div ref={anitextmobile0} className={style.movingtextinnerwrap}><p className={style.lineoftext}>CUDDLING WITH</p></div></div></div>                        <div className={style.movingtextwrap}><div className={style.movingtextouterwrap}><div ref={anitextmobile1} className={style.movingtextinnerwrap}><p className={style.lineoftext}>MY PET, WE WILL</p></div></div></div>                        <div className={style.movingtextwrap}><div className={style.movingtextouterwrap}><div ref={anitextmobile2} className={style.movingtextinnerwrap}><p className={style.lineoftext}>BE DONE SOON.</p></div></div></div>                    </div>                    <div ref={buttonWrap} className={style.buttonwrap} style={styleHideBeforeLoad} >                        <Bwbutton buttonProp={bwButtonProp} />                    </div>                </div>            </div>        </div>    </Div100vh>)}export default Comingsoon